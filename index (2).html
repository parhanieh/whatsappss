<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WhatsApp Private</title>
  <meta name="description" content="Klik tombol di bawah untuk bergabung. Tunggu 2-5 menit, otomatis terhubung.">
  <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg">
  <style>
    :root{
      --wa:#25D366; --text:#111; --muted:#555; --line:#e5e5e5; --bg:#f0f2f5; --card:#fff;
    }
    *{box-sizing:border-box}
    html,body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
    .wrap{max-width:680px;margin:0 auto}
    .header{background:var(--card);padding:16px;border-bottom:1px solid var(--line);text-align:center;position:sticky;top:0;z-index:5}
    .logo{display:inline-flex;align-items:center;gap:10px}
    .logo img{width:42px;height:42px}
    .logo h1{font-size:20px;margin:0;color:var(--wa)}
    .note{margin-top:8px;font-size:14px;color:#333;line-height:1.45}
    .note b{color:#000}
    .list{padding:14px}
    .item{display:flex;align-items:center;gap:10px;justify-content:space-between;background:var(--card);padding:12px;border-radius:12px;box-shadow:0 1px 3px rgba(0,0,0,.06);margin:10px 0}
    .avatar{width:56px;height:56px;border-radius:50%;object-fit:cover}
    .text{flex:1;min-width:0}
    .title{font-weight:700;font-size:15px;margin:0 0 4px}
    .desc{font-size:13px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .btn{background:var(--wa);color:#fff;text-decoration:none;border:none;padding:9px 14px;border-radius:10px;font-weight:700;cursor:pointer}
    .btn:active{transform:translateY(1px)}
    .footer{padding:18px;text-align:center;color:#888;font-size:12px}

    /* Modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;padding:16px;z-index:20}
    .modal[aria-hidden="false"]{display:flex}
    .card{background:#fff;border-radius:14px;padding:18px;max-width:420px;width:100%;box-shadow:0 10px 30px rgba(0,0,0,.2)}
    .card h3{margin:0 0 8px;font-size:18px}
    .card p{margin:0 0 12px;color:#333;font-size:14px}
    .row{display:flex;gap:10px;justify-content:flex-end}
    .ghost{background:#eee;color:#222}

    /* Toast */
    .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#111;color:#fff;padding:8px 12px;border-radius:10px;font-size:13px;opacity:0;transition:opacity .25s;z-index:25}
    .toast.show{opacity:1}

    /* Simple anti-select + copy */
    body{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}
  </style>
</head>
<body>
  <div class="wrap">
    <header class="header">
      <div class="logo">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WA">
        <h1>WhatsApp Private</h1>
      </div>
      <p class="note">Klik tombol di bawah untuk bergabung.<br> Tunggu 2‚Äì5 menit, otomatis terhubung.<br><b>Klik Konfirmasi / Yes / Continue</b></p>
    </header>

    <main class="list" id="list">
      <!-- Template items; ganti avatar & teks sesuai kebutuhan -->
      <div class="item">
        <img class="avatar"src="Gambar4.jpg" 
          alt="Video Call">
        <div class="text"><p class="title">Video Call</p><p class="desc">Mau VCS sama aku? Klik sini dong‚Ä¶</p></div>
        <button class="btn" data-slot="video">Gabung</button>
      </div>
      <div class="item">
        <img class="avatar" src="Gambar5.jpg" alt="Chatting">
        <div class="text"><p class="title">Chatting</p><p class="desc">Lagi pengen ngobrol manjaüòò? Klik sini aja‚Ä¶</p></div>
        <button class="btn" data-slot="chat">Gabung</button>
      </div>
      <div class="item">
        <img class="avatar" src="Gambar2.jpg" alt="Join Live">
        <div class="text"><p class="title">Join Live</p><p class="desc">Liat aku no sensor? Klik sini, panas bangetü•∫~</p></div>
        <button class="btn" data-slot="live">Gabung</button>
      </div>
      <div class="item">
        <img class="avatar" src="Gambar3.jpg" alt="Galeri">
        <div class="text"><p class="title">Galeri Foto & Video</p><p class="desc">Koleksi yang bikin kamu gagal fokus ü•µüí¶</p></div>
        <button class="btn" data-slot="gallery">Gabung</button>
      </div>
      <div class="item">
        <img class="avatar" src="Gambar1.jpg" alt="Calling">
        <div class="text"><p class="title">Calling</p><p class="desc">Pengen denger aku desahü§™üòç</p></div>
        <button class="btn" data-slot="call">Gabung</button>
      </div>
      <div class="item">
        <img class="avatar" src="Gambar6.jpg" alt="Lokasi">
        <div class="text"><p class="title">Lokasi</p><p class="desc">Mau tau rumah aku? Klik sini, jangan nakal yaa ü§≠</p></div>
        <button class="btn" data-slot="location">Gabung</button>
      </div>
    </main>

    <footer class="footer">WhatsApp ¬© 2025</footer>
  </div>

  <!-- Modal konfirmasi + countdown -->
  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-label="Konfirmasi">
    <div class="card">
      <h3>Konfirmasi</h3>
      <p>Anda akan dialihkan ke halaman bergabung. Proses otomatis dalam <b id="cd">3</b> detik‚Ä¶</p>
      <div class="row">
        <button class="btn ghost" id="cancel">Batal</button>
        <button class="btn" id="go">Lanjut</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">Link disiapkan‚Ä¶</div>

  <script>
    /**
     * ================= CPA READY SETTINGS =================
     * 1) Ganti OFFERS dengan SmartLink/CPA link kamu (boleh lebih dari 1, akan di-rotate).
     * 2) Bisa override lewat query ?url=ENCODED_URL atau ?rotate=a,b,c
     * 3) Semua parameter query akan diteruskan ke offer (passthrough UTM).
     */
    const OFFERS = [
      'https://www.profitableratecpm.com/ji133660?key=0868c0542426da7d87a0884de9a08f04'
    ];

    // Durasi countdown (detik)
    const COUNTDOWN_SECONDS = 3;

    // === UTIL ===
    const qs = new URLSearchParams(location.search);
    const toast = msg => { const t = document.getElementById('toast'); t.textContent = msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 1800); };

    function parseRotateParam(){
      if(qs.get('rotate')){
        return qs.get('rotate').split(',').map(s=>s.trim()).filter(Boolean);
      }
      return null;
    }

    function buildOfferList(){
      const fromRotate = parseRotateParam();
      let list = fromRotate && fromRotate.length ? fromRotate : OFFERS.slice();
      const override = qs.get('url');
      if(override){ list = [decodeURIComponent(override)]; }
      return list;
    }

    function pickOffer(list){
      // Simple rotation by random; could be round-robin if needed
      return list[Math.floor(Math.random()*list.length)];
    }

    function passthrough(url){
      // keep original UTM & extra params
      const offer = new URL(url);
      qs.forEach((v,k)=>{
        if(!['url','rotate'].includes(k)) offer.searchParams.set(k,v)
      });
      return offer.toString();
    }

    // ========== MODAL + REDIRECT FLOW ==========
    const modal = document.getElementById('modal');
    const cdSpan = document.getElementById('cd');
    const btnGo = document.getElementById('go');
    const btnCancel = document.getElementById('cancel');

    let targetUrl = null; let timer = null; let left = COUNTDOWN_SECONDS;

    function openModal(url){
      targetUrl = url; left = COUNTDOWN_SECONDS; cdSpan.textContent = left;
      modal.setAttribute('aria-hidden','false');
      // start countdown
      clearInterval(timer);
      timer = setInterval(()=>{
        left--; cdSpan.textContent = left;
        if(left<=0){
          clearInterval(timer);
          goNow();
        }
      },1000);
    }

    function closeModal(){
      modal.setAttribute('aria-hidden','true');
      clearInterval(timer);
    }

    function goNow(){
      if(!targetUrl) return; 
      // open in same tab for better conversion
      location.href = targetUrl;
    }

    btnGo.addEventListener('click', goNow);
    btnCancel.addEventListener('click', closeModal);

    // Hook buttons
    document.querySelectorAll('.btn[data-slot]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const list = buildOfferList();
        const chosen = passthrough(pickOffer(list));
        toast('Menyiapkan tautan‚Ä¶');
        openModal(chosen);
      })
    });

    // ========== ANTI-BACK (soft) ==========
    /**
     * Mendorong satu state ke history, lalu jika pengguna tekan back,
     * kita arahkan ke offer (atau tampilkan modal). Ini versi "soft" agar tetap user-friendly.
     */
    (function softAntiBack(){
      const list = buildOfferList();
      const exitUrl = passthrough(pickOffer(list));
      history.pushState({layer:1},'');
      window.addEventListener('popstate', (e)=>{
        // Saat back ditekan dari halaman ini
        e.preventDefault();
        // Redirect ke offer; gunakan replace agar tidak membuat loop
        location.replace(exitUrl);
      });
    })();

    // ========== PREFETCH (sedikit boost CTR) ==========
    (function prefetch(){
      const list = buildOfferList();
      const pref = document.createElement('link');
      pref.rel = 'prefetch';
      pref.href = pickOffer(list);
      document.head.appendChild(pref);
    })();

    // Basic console guard
    console.log('%cLanding ready','padding:4px 8px;background:#25D366;color:#fff;border-radius:6px');
  </script>
</body>
</html>